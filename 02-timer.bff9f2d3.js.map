{"mappings":"AAAA,MAAMA,EAAYC,SAASC,eAAe,mBACpCC,EAAcF,SAASG,cAAc,sBAChCC,UAAU,mBAAoB,IACzCC,GAAe,GAGf,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EAQjBC,QAAS,SAAUC,GAEjBC,QAAQC,IAAI,oBAAqBF,EAAc,IAG/C,MAAMG,EAAYH,EAAc,GAMhC,GAHAC,QAAQC,IAAI,kBAAmBC,IAiDnC,SAAsBC,GACpBH,QAAQC,IAAI,+CACZD,QAAQC,IAAI,gBAAiB,IAAIL,MACjCI,QAAQC,IAAI,cAAe,IAAIL,KAAKO,IAEpC,MAAMC,EAAc,IAAIR,KAIlBS,EAHY,IAAIT,KAAKO,IAGGC,EAI9B,OAFAJ,QAAQC,IAAI,UAAWI,EAAW,cAAgB,aAE3CA,C,CA3DAC,CAAaJ,GAMhB,OAJAF,QAAQC,IAAI,wCAEZM,MAAM,sCAMRP,QAAQC,IAAI,+BAEZV,GAAe,E,GAkDnB,SAASA,EAAeiB,GAClBA,EACFpB,EAAYqB,aAAa,YAAY,GAErCrB,EAAYsB,gBAAgB,W,CAIhC,SAASC,EAAUC,GAEjB,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAWZ,MAAO,C,KARME,KAAKC,MAAMN,EAAKI,G,MAEfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QAEtBE,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,G,QAEjCI,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAZnC,K,CAvDjBvB,UAAU,mBAAoBE,GAE9BJ,EAAY+B,iBAAiB,SAAS,KAMpC,IAAIC,EAFiB,IAAIxB,KAAKX,EAAUoC,OAAOC,UACzB1B,KAAK2B,MAG3B,MAAMC,EAAaC,aAAY,KAC7BL,GAAU,IACVpB,QAAQC,IAAImB,GACZpB,QAAQC,IAAI,YAAaU,EAAUS,IAE/BA,GAAU,GACZM,cAAcF,EAAW,GAE1B,IAAK","sources":["src/js/02-timer.js"],"sourcesContent":["const inputDate = document.getElementById('datetime-picker');\nconst buttonStart = document.querySelector('button[data-start]');\nconst fp = flatpickr('#datetime-picker', {}); // flatpickr\nbuttonDisabled(true);\n\n// Set up options for the flatpickr date picker\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  /**\n   * Callback function for when the date picker is closed.\n   * It checks if the selected date is in the future.\n   * If not, it displays an alert and prevents the button from being enabled.\n   **/\n\n  onClose: function (selectedDates) {\n    // Log the first selected date\n    console.log('selectedDates[0]:', selectedDates[0]);\n\n    // Get the input date value\n    const dateValue = selectedDates[0];\n\n    // Log the input date value\n    console.log('inputDateValue:', dateValue);\n\n    // Check if the input date is in the future\n    if (!isFutureDate(dateValue)) {\n      // Log that the input date is not in the future\n      console.log('Input date is not in the future');\n      // Display an alert to the user\n      alert('Please choose a date in the future');\n      // Prevent the button from being enabled\n      return;\n    }\n\n    // Log that the input date is in the future\n    console.log('Input date is in the future');\n    // Enable the button\n    buttonDisabled(false);\n  },\n};\n\n// Initialize the flatpickr date picker\nflatpickr('#datetime-picker', options);\n\nbuttonStart.addEventListener('click', () => {\n  // Convert the input value to a Date object\n  //const mstest = new Date(inputDate.value);\n\n  const futureDateMs = new Date(inputDate.value).getTime();\n  const currentDateMs = Date.now();\n  let ticker = futureDateMs - currentDateMs;\n\n  const intervalId = setInterval(() => {\n    ticker -= 1000;\n    console.log(ticker);\n    console.log('tickerId:', convertMs(ticker));\n    // Check condition to end the interval\n    if (ticker <= 0) {\n      clearInterval(intervalId); // End the interval\n    }\n  }, 1000);\n});\n\n// functions\n\nfunction intervalId(ms) {\n  setInterval(() => {\n    convertMs(ms);\n  }, 1000);\n}\n\nfunction isFutureDate(date) {\n  console.log('Checking if the given date is in the future');\n  console.log('Current date:', new Date());\n  console.log('Given date:', new Date(date));\n\n  const currentDate = new Date();\n  const givenDate = new Date(date);\n\n  // Compare the given date with the current date\n  const isFuture = givenDate >= currentDate;\n\n  console.log('Result:', isFuture ? 'Future date' : 'Past date');\n\n  return isFuture;\n}\n\nfunction buttonDisabled(opt) {\n  if (opt) {\n    buttonStart.setAttribute('disabled', true);\n  } else {\n    buttonStart.removeAttribute('disabled');\n  }\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["$40d383fb392a7037$var$inputDate","document","getElementById","$40d383fb392a7037$var$buttonStart","querySelector","flatpickr","$40d383fb392a7037$var$buttonDisabled","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","console","log","dateValue","date","currentDate","isFuture","$40d383fb392a7037$var$isFutureDate","alert","opt","setAttribute","removeAttribute","$40d383fb392a7037$var$convertMs","ms","minute","second","hour","day","Math","floor","addEventListener","ticker","value","getTime","now","intervalId1","setInterval","clearInterval"],"version":3,"file":"02-timer.bff9f2d3.js.map"}